<!-- Enhanced Register Component -->
<section class="register-section">
  <div class="container">
    <!-- Header Section -->
    <div class="row">
      <div class="col-12 text-center header-section">
        <div class="register-header">
          <h2 class="register-title">Create Account</h2>
          <p class="register-subtitle">
            Already have an account?
            <a class="signin-link" routerLink="/login">Sign in here</a>
          </p>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="row justify-content-center">
      <div class="col-12 col-lg-10 col-xl-9">
        <div class="register-container">
          <div class="row gy-4 justify-content-center align-items-center">

            <!-- Registration Form -->
            <div class="col-12 col-lg-6">
              <div class="form-container">
                <form [formGroup]="myForm" (ngSubmit)="onSubmitRegister()" class="register-form">

                  <!-- Name Fields Row -->
                  <div class="row gy-3">
                    <!-- First Name Field -->
                    <div class="col-12 col-md-6">
                      <div class="form-group">
                        <div class="input-wrapper">
                          <input type="text" class="form-input" id="firstName" placeholder=" "
                            formControlName="FirstName" required
                            [class.error]="myForm.get('FirstName')?.invalid && myForm.get('FirstName')?.touched">
                          <label for="firstName" class="form-label">First Name</label>
                          <div class="input-icon">
                            <i class="fas fa-user"></i>
                          </div>
                        </div>
                        <div class="error-message"
                          *ngIf="myForm.get('FirstName')?.invalid && myForm.get('FirstName')?.touched">
                          <small *ngIf="myForm.get('FirstName')?.errors?.['required']">First name is required</small>
                          <small *ngIf="myForm.get('FirstName')?.errors?.['minlength']">First name must be at least 2
                            characters</small>
                        </div>
                      </div>
                    </div>

                    <!-- Last Name Field -->
                    <div class="col-12 col-md-6">
                      <div class="form-group">
                        <div class="input-wrapper">
                          <input type="text" class="form-input" id="lastName" placeholder=" " formControlName="LastName"
                            required [class.error]="myForm.get('LastName')?.invalid && myForm.get('LastName')?.touched">
                          <label for="lastName" class="form-label">Last Name</label>
                          <div class="input-icon">
                            <i class="fas fa-user"></i>
                          </div>
                        </div>
                        <div class="error-message"
                          *ngIf="myForm.get('LastName')?.invalid && myForm.get('LastName')?.touched">
                          <small *ngIf="myForm.get('LastName')?.errors?.['required']">Last name is required</small>
                          <small *ngIf="myForm.get('LastName')?.errors?.['minlength']">Last name must be at least 2
                            characters</small>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Email Field -->
                  <div class="form-group">
                    <div class="input-wrapper">
                      <input type="email" class="form-input" id="email" placeholder=" " formControlName="Email" required
                        [class.error]="myForm.get('Email')?.invalid && myForm.get('Email')?.touched">
                      <label for="email" class="form-label">Email Address</label>
                      <div class="input-icon">
                        <i class="fas fa-envelope"></i>
                      </div>
                    </div>
                    <div class="error-message" *ngIf="myForm.get('Email')?.invalid && myForm.get('Email')?.touched">
                      <small *ngIf="myForm.get('Email')?.errors?.['required']">Email is required</small>
                      <small *ngIf="myForm.get('Email')?.errors?.['email']">Please enter a valid email</small>
                    </div>
                  </div>

                  <!-- Password Field -->
                  <div class="form-group">
                    <div class="input-wrapper">
                      <input [type]="showPassword ? 'text' : 'password'" class="form-input" id="password"
                        placeholder=" " formControlName="Password" required
                        [class.error]="myForm.get('Password')?.invalid && myForm.get('Password')?.touched">
                      <label for="password" class="form-label">Password</label>
                      <div class="input-icon">
                        <i class="fas fa-lock"></i>
                      </div>
                      <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
                        <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                      </button>
                    </div>
                    <div class="error-message"
                      *ngIf="myForm.get('Password')?.invalid && myForm.get('Password')?.touched">
                      <small *ngIf="myForm.get('Password')?.errors?.['required']">Password is required</small>
                      <small *ngIf="myForm.get('Password')?.errors?.['minlength']">Password must be at least 6
                        characters</small>
                    </div>
                  </div>

                  <!-- Confirm Password Field -->
                  <div class="form-group">
                    <div class="input-wrapper">
                      <input [type]="showConfirmPassword ? 'text' : 'password'" class="form-input" id="confirmPassword"
                        placeholder=" " formControlName="ConfirmPassword" required
                        [class.error]="myForm.get('ConfirmPassword')?.invalid && myForm.get('ConfirmPassword')?.touched">
                      <label for="confirmPassword" class="form-label">Confirm Password</label>
                      <div class="input-icon">
                        <i class="fas fa-lock"></i>
                      </div>
                      <button type="button" class="password-toggle" (click)="toggleConfirmPasswordVisibility()">
                        <i [class]="showConfirmPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                      </button>
                    </div>
                    <div class="error-message"
                      *ngIf="myForm.get('ConfirmPassword')?.invalid && myForm.get('ConfirmPassword')?.touched">
                      <small *ngIf="myForm.get('ConfirmPassword')?.errors?.['required']">Please confirm your
                        password</small>
                      <small *ngIf="myForm.get('ConfirmPassword')?.errors?.['passwordMismatch']">Passwords do not
                        match</small>
                    </div>
                  </div>

                  
              <!-- Role Selection -->
              <div class="form-floating mb-3">
                <select class="form-control border-bottom rounded-0" id="role" formControlName="Role"
                  (change)="setRole($event)">
                  <option value="user" selected>Buyer</option>
                  <option value="seller">Seller</option>
                </select>
                <label for="role">Register As</label>
              </div>


                  <!-- Terms & Conditions -->
                  <div class="form-group">
                    <div class="checkbox-wrapper">
                      <input class="custom-checkbox" type="checkbox" id="agree_terms" formControlName="AgreeTerms">
                      <label class="checkbox-label" for="agree_terms">
                        <span class="checkmark"></span>
                        I agree to the <a href="#" class="terms-link">Terms & Conditions</a> and <a href="#"
                          class="terms-link">Privacy Policy</a>
                      </label>
                    </div>
                    <div class="error-message"
                      *ngIf="myForm.get('AgreeTerms')?.invalid && myForm.get('AgreeTerms')?.touched">
                      <small>You must agree to the terms and conditions</small>
                    </div>
                  </div>

                  <!-- Submit Button -->
                  <div class="submit-section">
                    <button class="register-btn" type="submit" [disabled]="myForm.invalid" [class.loading]="isLoading">
                      <span class="btn-text">Create Account</span>
                      <div class="btn-loader" *ngIf="isLoading">
                        <div class="spinner"></div>
                      </div>
                    </button>
                  </div>
                </form>
              </div>
            </div>

            <!-- Divider -->
            <div class="col-12 col-lg-1 divider-section">
              <div class="divider-container">
                <div class="divider-line"></div>
                <span class="divider-text">or</span>
                <div class="divider-line"></div>
              </div>
            </div>

            <!-- Social Registration -->
            <div class="col-12 col-lg-5">
              <div class="social-container">
                <h6 class="social-title">Quick Sign Up</h6>
                <div class="social-buttons">
                  <button class="social-btn google-btn">
                    <div class="social-icon">
                      <i class="fab fa-google"></i>
                    </div>
                    <span>Continue with Google</span>
                  </button>

                  <button class="social-btn apple-btn">
                    <div class="social-icon">
                      <i class="fab fa-apple"></i>
                    </div>
                    <span>Continue with Apple</span>
                  </button>

                  <button class="social-btn facebook-btn">
                    <div class="social-icon">
                      <i class="fab fa-facebook-f"></i>
                    </div>
                    <span>Continue with Facebook</span>
                  </button>
                </div>

                <!-- Features List -->
                <div class="features-list">
                  <h6 class="features-title">Why join us?</h6>
                  <ul class="features">
                    <li class="feature-item">
                      <i class="fas fa-check-circle"></i>
                      <span>Free account setup</span>
                    </li>
                    <li class="feature-item">
                      <i class="fas fa-shield-alt"></i>
                      <span>Secure data protection</span>
                    </li>
                    <li class="feature-item">
                      <i class="fas fa-users"></i>
                      <span>Join our community</span>
                    </li>
                    <li class="feature-item">
                      <i class="fas fa-rocket"></i>
                      <span>Access premium features</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Background Elements -->
  <div class="bg-elements">
    <div class="bg-circle circle-1"></div>
    <div class="bg-circle circle-2"></div>
    <div class="bg-circle circle-3"></div>
    <div class="bg-circle circle-4"></div>
  </div>
</section>